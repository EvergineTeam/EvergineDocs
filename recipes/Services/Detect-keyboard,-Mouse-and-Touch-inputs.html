<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Goal | Wave Engine API Doc </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Goal | Wave Engine API Doc ">
    <meta name="generator" content="docfx 2.57.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="goal">Goal</h2>

<p>Within this recipe you will learn how to detect keyboard, mouse and touch inputs using the WaveEngine <code>Input</code> service.
These are basic interaction devices for any game you create, particularly the touch manager.</p>
<h2 id="hands-on">Hands-on</h2>
<h3 id="with-visual-studio-for-windows-or-mac">With Visual Studio (for Windows or Mac)</h3>
<p>It&#39;s time to coding, open a WaveEngine C# solution and add a new SceneBehavior.</p>
<pre><code class="lang-c#">
protected override void CreateScene()
{
    this.Load(WaveContent.Scenes.MyScene);       

    this.AddSceneBehavior(new MySceneBehavior(), SceneBehavior.Order.PostUpdate);    
}
</code></pre><p>In the SceneBehavior Update method add the following code snippets.</p>
<pre><code class="lang-c#">
var mouseState = WaveServices.Input.MouseState;
if (mouseState.IsConnected)
{
    var x = mouseState.X;
    var y = mouseState.Y;

    Trace.WriteLine(string.Format(&quot;Mouse X = {0,4} Mouse Y = {1,4}&quot;, x, y));
}
</code></pre><p>First of all, We&#39;ll inspect the output in Visual Studio.</p>
<p><img src="images/Detect-keyboard-Mouse-and-Touch-inputs/Capture1.png" alt=""></p>
<p>As you see, <code>WaveServices.Input.MouseState</code> provides you a structure on every game Update with the state of the Mouse with its position.</p>
<p>Let&#39;s move to the keyboard, here you have a similar piece of code that outputs the state of three buttons of the keyboard.</p>
<pre><code class="lang-c#">
var keyboardState = WaveServices.Input.KeyboardState;
if (keyboardState.IsConnected)
{
    var a = keyboardState.A;
    var b = keyboardState.B;
    var c = keyboardState.C;

    Trace.WriteLine(string.Format(&quot;Keyboard A state = {0,8} Keyboard B state = {1,8} Keyboard C state = {2,8}&quot;, a, b, c));
}
</code></pre><p><img src="images/Detect-keyboard-Mouse-and-Touch-inputs/Capture2.png" alt=""></p>
<p>Here we got a similar output as the previous one but with the state of the A, B and C keys.</p>
<p>TouchPanelState is one of the most useful struct the input service provides, you must check the structure to get every touch point detected by the phone.
Beware that mouse clicks are mapped as touchs in case you use TouchPanelState in desktop games.</p>
<pre><code class="lang-c#">
var touchPanelState = WaveServices.Input.TouchPanelState;
if (touchPanelState.IsConnected)
{
    if (touchPanelState.Count &gt; 0)
    {
        var firstTouch = touchPanelState.First();
        var currentPosition = firstTouch.Position;

        Trace.WriteLine(string.Format(&quot;First Touch X = {0,4} First Touch Y = {1,4}&quot;, currentPosition.X, currentPosition.Y));
    }
}
</code></pre><p><img src="images/Detect-keyboard-Mouse-and-Touch-inputs/Capture3.png" alt=""></p>
<p>Don&#39;t forget that WaveEngine also provides other input sources for your game, as the AccelerometerState, CompassState, GyroscopeState and more.</p>
<h2 id="wrap-up">Wrap-up</h2>
<p>We have seen how the <code>Input</code> service could be used to retrieve the state of the mouse, keyboard and mobile touchPanel.</p>
<div class="NOTE"><h5>Note</h5><p>Take a look at the <a href="https://github.com/WaveEngine/Samples/tree/master/Input">Input Samples</a> on github.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
