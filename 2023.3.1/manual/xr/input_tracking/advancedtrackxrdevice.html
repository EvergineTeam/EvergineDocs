<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>AdvancedTrackXRDevice | Evergine Doc </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="AdvancedTrackXRDevice | Evergine Doc ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
  
  <meta property="docfx:rel" content="../../../">
  
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container flex-container">
            <label for="version" class="select-label">Version:</label>
            <select id="select-version" class="select-version" name="version" title="version">
            </select>
            <div class="hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="advancedtrackxrdevice">AdvancedTrackXRDevice</h1>

<p>This component allows you to track <strong>all kind of XR Devices</strong>, not only controllers or hands, such as base stations, generic trackers, etc...</p>
<p><img src="images/advancedtrackxrdevice.png" alt="TrackXRDevice"></p>
<h2 id="selection-strategy">Selection Strategy</h2>
<p>This component can select the device that will track in different ways, and it is defined by the <code>SelectionStrategy</code> property, that has the following values:</p>
<ul>
<li><strong>ByHandedness:</strong> Specify the device using the handedness (left or right device). This is the most usual way to select a device.</li>
<li><strong>ByDeviceType:</strong> Select the device by specifying the type of the device and an number of occurrences.</li>
<li><strong>ByDeviceTypeAndHandedness:</strong> Select the device by specifying the type of the device and the handedness.</li>
<li><strong>ByDeviceIndex:</strong> The InputTracking maintain an ordered list of tracked devices. If you use this way the device will be selected by specifying an index on that list.</li>
</ul>
<h3 id="selection-by-handedness">Selection by Handedness</h3>
<p>If your selection strategy is <code>ByHandedness</code>, you will select your device by using its handedness. In that case you need to se these properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Handedness</strong></td>
<td>With this property you will indicate the handedness of the device that you want to track: <ul><li><code>LeftHand</code> to specify the left hand.</li><li><code>RightHand</code> to specify the right hand.</li><li><code>Undefined</code> if the device has no specific handedness.</li></ul></td>
</tr>
<tr>
<td><strong>DeviceIndex</strong></td>
<td>In the case that there are more than one devices using the same handedness, with this property you will specify which occurence are going to be selected.</td>
</tr>
</tbody>
</table>
<h3 id="selection-by-device-type">Selection by Device Type</h3>
<p>If your selection strategy is <code>ByDeviceType</code>, you will select your device by using its handedness. In that case you need to se these properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DeviceType</strong></td>
<td>Specify the type of device that you want to select: <ul><li><code>Controller</code> if you want to select a tipical controller device.</li><li><code>HMD</code> in the case that you want to track the headset device.</li><li><code>GenericTracker</code> to select typical tracker devices (such as Vive Tracker).</li><li><code>TrackingReference</code> reffers to devices used as a tracking reference (such as Vive Base Stations or old Oculus Rift Camera Sensors).</li><li><code>Hand</code> if the system can detect the user hands.</li></ul></td>
</tr>
<tr>
<td><strong>DeviceIndex</strong></td>
<td>In the case that there are more than one devices using the same device type, with this property you will specify which occurence are going to be selected.</td>
</tr>
</tbody>
</table>
<h3 id="selection-by-device-type-and-handedness">Selection by Device Type and Handedness</h3>
<p>If your selection strategy is <code>ByDeviceTypeAndHandedness</code>, you will select your device by using its handedness and the specified device type. In that case you need to se these properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DeviceType</strong></td>
<td>Specify the type of device that you want to select: <ul><li><code>Controller</code> if you want to select a tipical controller device.</li><li><code>HMD</code> in the case that you want to track the headset device.</li><li><code>GenericTracker</code> to select typical tracker devices (such as Vive Tracker).</li><li><code>TrackingReference</code> reffers to devices used as a tracking reference (such as Vive Base Stations or old Oculus Rift Camera Sensors).</li><li><code>Hand</code> if the system can detect the user hands.</li></ul></td>
</tr>
<tr>
<td><strong>Handedness</strong></td>
<td>With this property you will indicate the handedness of the device that you want to track: <ul><li><code>LeftHand</code> to specify the left hand.</li><li><code>RightHand</code> to specify the right hand.</li><li><code>Undefined</code> if the device has no specific handedness.</li></ul></td>
</tr>
<tr>
<td><strong>DeviceIndex</strong></td>
<td>In the case that there are more than one devices using the same properties described above, with this property you will specify which occurence are going to be selected.</td>
</tr>
</tbody>
</table>
<h3 id="selection-by-device-index">Selection by Device Index</h3>
<p>If your selection strategy is <code>ByDeviceIndex</code>, you will select your device by its index that is registered in your system.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DeviceIndex</strong></td>
<td>Integer that specify the index of the device.</td>
</tr>
</tbody>
</table>
<h2 id="tracking-lost-mode">Tracking lost mode</h2>
<p>This component will updat the entity Transform to follow the selected device. But in the case that an issue occurs during the tracking  process, you can specify how the entity behaves using the following property:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>TrackingLostMode</strong></td>
<td>Specify the strategy to follow in case that the device is not well tracked: <ul><li><code>DisableEntityOnPoseInvalid</code> disable the entity if the tracked pose is not valid. In the case that the device is well tracked again, the entity will be enabled again. <em>This is the default value.</em></li><li><code>KeepLastPose</code> stop to track the entity if the pose is not valid, maintaining the entity with the last pose received.</li><li><code>DisableEntityOnDisconnection</code> disable the entity only if the selected device is no longer connected.</li></ul></td>
</tr>
</tbody>
</table>
<h2 id="using-advancedtrackxrdevice">Using AdvancedTrackXRDevice</h2>
<p>In the following code you will find how to create some sort of entities to track left and right controllers, and two generic trackers:</p>
<pre><code class="lang-csharp">    protected override void CreateScene()
    {
        base.CreateScene();

        // Left entity
        var leftDevice = new Entity()
            .AddComponent(new Transform3D())
            .AddComponent(new AdvancedTrackXRDevice()
            {
                SelectionStrategy = TrackXRDevice.SelectionDeviceStrategy.ByDeviceTypeAndHandedness,
                DeviceType = XRTrackedDeviceType.Controller,
                Handedness = XRHandedness.RightHand // select the left device
            });

        // Right entity
        var rightDevice = new Entity()
            .AddComponent(new Transform3D())
            .AddComponent(new AdvancedTrackXRDevice()
            {
                SelectionStrategy = TrackXRDevice.SelectionDeviceStrategy.ByDeviceTypeAndHandedness,
                DeviceType = XRTrackedDeviceType.Controller,
                Handedness = XR.XRHandedness.RightHand // select the right device
            });

        this.Managers.EntityManager.Add(leftDevice);
        this.Managers.EntityManager.Add(rightDevice);

        // First Tracker 
        var firstTracker = new Entity()
            .AddComponent(new Transform3D())
            .AddComponent(new AdvancedTrackXRDevice()
            {
                SelectionStrategy = TrackXRDevice.SelectionDeviceStrategy.ByDeviceType,
                DeviceType = XRTrackedDeviceType.GenericTracker,
                DeviceIndex = 0 // First                
            });

        // Second Tracker 
        var secondTracker = new Entity()
            .AddComponent(new Transform3D())
            .AddComponent(new AdvancedTrackXRDevice()
            {
                SelectionStrategy = TrackXRDevice.SelectionDeviceStrategy.ByDeviceType,
                DeviceType = XRTrackedDeviceType.GenericTracker,
                DeviceIndex = 1 // Second                
            });

        this.Managers.EntityManager.Add(firstTracker);
        this.Managers.EntityManager.Add(secondTracker);
    }
</code></pre>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">

              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <h5>In This Article</h5>
              <div></div>
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <div class="pull-left">
        
        <span>Generated by <strong>DocFX</strong></span>
            </div>      
          </div>
        </div>
      </footer>    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
