<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Models | Evergine Doc </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Models | Evergine Doc ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
  
  <meta property="docfx:rel" content="../../../">
  
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container flex-container">
            <label for="version" class="select-label">Version:</label>
            <select id="select-version" class="select-version" name="version" title="version">
            </select>
            <div class="hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="models">Models</h1>

<hr>
<p><img src="images/model.jpg" alt="Models"></p>
<p>Models are files that contains <strong>3d objects</strong> like characters, objects, and all kind of elements. <strong>Evergine</strong> supports importing models created by 3D editing software (like <em>3ds Max</em>, <em>Blender</em> or CAD software like <em>Solidworks</em>.) but also supports procedural model generation.</p>
<p>Models are crucial assets in every graphical application because can provide high quality and realism.</p>
<p>In <strong>Evergine</strong> a <strong>Model</strong> is a graphical element that combines multiple parts to conform a full 3D object in a scene.</p>
<p>It can contains the following parts:</p>
<ul>
<li>Node Hierarchy.</li>
<li>MeshContainers</li>
<li>Material references.</li>
<li>Skinning information.</li>
<li>Animation Clips</li>
</ul>
<h2 id="node-hierarchy">Node Hierarchy</h2>
<p>A <strong>Model</strong> contains a node graph that covers all the objects of the 3d model. They are covered in the <strong>NodeContent</strong> class. They can have geometry or just serve as dummy element, but all of them contains a transform information (position, orientation and scale) and a list of children.</p>
<p><strong>Model</strong> contains the hierarchy in these two properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AllNodes</td>
<td>The list of all the <strong>NodeContents</strong>, whether they are in the root level or not.</td>
</tr>
<tr>
<td>RootNodes</td>
<td>The indices of the NodeContent elements of the <em>AllNodes</em> list that contains the nodes at root level (they don't have a parent).</td>
</tr>
</tbody>
</table>
<p>For example, if we have this node hierarchy:</p>
<p><img src="images/nodeHierarchy.png" alt="Node Hierarchy"></p>
<p>A <strong>Model</strong> would have them stored in this way:</p>
<p><img src="images/modelNodes.png" alt="Model Nodes"></p>
<h3 id="nodecontent">NodeContent</h3>
<p>The <strong>NodeContent</strong> refers to the class that represents one node. It contains the basic information of a node of a 3d model:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>Name of the node</td>
</tr>
<tr>
<td>Children</td>
<td>Array of the <strong>NodeContent</strong> children of the node.</td>
</tr>
<tr>
<td>Translation</td>
<td>Local Vector3 translation of the node.</td>
</tr>
<tr>
<td>Orientation</td>
<td>Local Quaternion orientation of the node.</td>
</tr>
<tr>
<td>Scale</td>
<td>Local Vector3 scale of the node.</td>
</tr>
<tr>
<td>Mesh</td>
<td><strong>MeshContainer</strong> reference of the node. That means the node has geometry attached to it. <em>null</em> if the node doesn't have geometry.</td>
</tr>
<tr>
<td>Skin</td>
<td>Reference of a <strong>SkinContent</strong> element, meaning the node is a skinned mesh. <em>null</em> if the node is not skinned.</td>
</tr>
</tbody>
</table>
<h2 id="meshescontainers">MeshesContainers</h2>
<p>In a <strong>Model</strong> mesh containers are where the 3d geometry is stored. It usually represents one full object, and it can contains one or more Meshes (see <a href="../meshes.html">this section</a> for more information.). The main reason for the <strong>MeshContainer</strong> concept is that a geometry attached to a node can contain multiple sub-elements with a different material each of them. One <strong>MeshContainer</strong> can be referenced by one or more nodes, making the model more memory efficient.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>Name of the mesh container.</td>
</tr>
<tr>
<td>Skin</td>
<td>Reference of the SkinContent for skinning information (if it's the case).</td>
</tr>
<tr>
<td>BoundingBox</td>
<td>The Bounding box of the mesh.</td>
</tr>
<tr>
<td>Meshes</td>
<td>List of the meshes of this container</td>
</tr>
</tbody>
</table>
<h2 id="materials">Materials</h2>
<p>The model also contain a list of a tuple containing the material id and the material name referenced by its meshes. The <strong>Mesh</strong> class contains a parameter called <em>MaterialIndex</em> which tells us the index of this list we're refering to.</p>
<h2 id="skinning-information">Skinning Information</h2>
<p><strong>Evergine</strong> supports Skinning animation. With this method a geometry is deformed following the transformations of a set of bones.</p>
<p>To support it the model class contains an array of <strong>SkinContent</strong> class, that represents the skinning information of a geometry. Every <strong>MeshContainer</strong> and <strong>Node</strong> that as a skinned mesh references one of the elements of the array.</p>
<p>The <strong>SkinContent</strong> class contain this information:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>Name of the skinning content.</td>
</tr>
<tr>
<td>Nodes</td>
<td>Array of integer that contain the indices of the AllNodes list of the Model class. They are the bone nodes of the skeleton.</td>
</tr>
<tr>
<td>InverseBindPoses</td>
<td>Array of <strong>Matrix4x4</strong>. For every node of the skeleton there is a matrix in that contains the inverse bind pose relative to its parent.</td>
</tr>
<tr>
<td>RootJoint</td>
<td>Int that represents the index in the Nodes array of the root bone of the skinning.</td>
</tr>
</tbody>
</table>
<p>Using this properties animating the nodes referenced by this <strong>SkinContent</strong> will animate the geometry accordingly.</p>
<p>In order for the skinned mesh to work properly, the <strong>Vertex Buffer</strong> of the skinned mesh needs the following fields:</p>
<table>
<thead>
<tr>
<th>Semantic</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>BoneIndices</strong></td>
<td>´int4short´</td>
<td>Vector that contains the indices of the bones (from the            Nodes list) affected by this vertex.</td>
</tr>
<tr>
<td><strong>BoneWeights</strong></td>
<td>float4</td>
<td>For every bone from he previous field, the weight indicates the percentaje of the box transforms that applies to this vertex.</td>
</tr>
</tbody>
</table>
<h2 id="animations">Animations</h2>
<p>In <strong>Evergine</strong> model animation is achieved by animating nodes. If those nodes are part of a skinning bones, it will also animate the skinned mesh accordingly.</p>
<h2 id="in-this-section">In this section</h2>
<ul>
<li><a href="import_model.html">Import Models</a></li>
<li><a href="using_models.html">Using Model</a></li>
<li><a href="level_of_detail.html">Level of Detail</a></li>
<li><a href="model_editor.html">Model Editor</a></li>
</ul>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">

              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <h5>In This Article</h5>
              <div></div>
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <div class="pull-left">
        
        <span>Generated by <strong>DocFX</strong></span>
            </div>      
          </div>
        </div>
      </footer>    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
