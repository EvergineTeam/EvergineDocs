<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>WebGPU | Evergine Doc </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="WebGPU | Evergine Doc ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
  
  <meta property="docfx:rel" content="../../../">
  
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container flex-container">
            <label for="version" class="select-label">Version:</label>
            <select id="select-version" class="select-version" name="version" title="version">
            </select>
            <div class="hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="webgpu">WebGPU</h1>

<p><img src="images/webgpu.jpg" alt="WebGPU API"></p>
<p><strong>WebGPU</strong> is a modern graphics API that provides developers with low-level access to the GPU, enabling advanced rendering techniques and computational capabilities.</p>
<p>It is developed by the <strong>W3C</strong> Web Community Group with engineers from <strong>Apple</strong>, <strong>Mozilla</strong>, <strong>Microsoft</strong>, <strong>Google</strong>, and others. This technology runs on top of the latest graphics APIs like DirectX 12, Vulkan, and Metal.</p>
<p><strong>Chrome</strong>, <strong>Edge</strong>, and <strong>Firefox</strong> already support it as an experimental feature, so you need to switch to the beta channel and activate it. <strong>Evergine</strong> uses <strong>WebGPU</strong> on Web platforms when it is available; otherwise, it uses <a href="opengl.html">WebGL</a>, which is the most supported graphics technology today.</p>
<p>To check the implementation status of this technology, visit <a href="https://caniuse.com/webgpu">caniuse.com/webgpu</a>.</p>
<h2 id="advantages-of-webgpu-over-webgl">Advantages of WebGPU Over WebGL</h2>
<p>Unlike WebGL, which is based on OpenGL (an API that is now deprecated in favor of more efficient alternatives such as Vulkan and Metal) WebGPU addresses the limitations of traditional APIs by offering a more streamlined and efficient interface for graphics programming.</p>
<p>One of the key advantages of WebGPU over WebGL is its support for Compute Shaders. This capability enhances performance in graphics-heavy applications and opens new possibilities for creating complex visual effects and simulations. WebGPU is designed with modern programming paradigms in mind, enabling developers to write code that is not only performant but also maintainable.</p>
<p>WebGPU offers several notable advantages, making it a significant step forward in graphics programming:</p>
<ul>
<li><strong>Lower-level access to the GPU:</strong> WebGPU provides developers with finer control over GPU resources, enabling more efficient rendering and computing tasks.</li>
<li><strong>Support for Compute Shaders:</strong> Unlike WebGL, WebGPU supports compute shaders, allowing for more complex computations and effects directly on the GPU.</li>
<li><strong>Better performance:</strong> With a more efficient architecture, WebGPU can leverage modern hardware capabilities, resulting in faster rendering and processing.</li>
</ul>
<h2 id="known-limitations-of-the-current-webgpu-evergine-integration">Known limitations of the current WebGPU Evergine integration</h2>
<p>The current WebGPU integration in Evergine has the following known limitations:</p>
<ul>
<li><code>RGBA32Float</code> textures are not supported on most mobile devices, which means HDR textures are unavailable.</li>
<li>The .NET 8 version of Emscripten does not support depth clip control, resulting in artifacts in shadow mapping for objects behind the camera that still cast visible shadows.</li>
<li>GPU Particles &amp; PostProcessing are not yet supported because the shader techniques they rely on are not precompiled.</li>
</ul>
<h2 id="supported-webgpu-devices">Supported WebGPU devices</h2>
<ul>
<li>Chrome, Edge, Safari, and Firefox (Nightly only) browsers on Desktop, tablet, and mobile.</li>
</ul>
<h2 id="checking-webgpu-version">Checking WebGPU version</h2>
<table>
<thead>
<tr>
<th>Browser</th>
<th>Check command</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Chrome</strong></td>
<td>The WebGPU flag must be enabled by writing this in your browser: <br> <code>chrome://flags/#enable-unsafe-webgpu</code></td>
</tr>
<tr>
<td><strong>Edge</strong></td>
<td>The WebGPU flag must be enabled by writing this in your browser: <br> <code>edge://flags/#enable-unsafe-webgpu</code></td>
</tr>
</tbody>
</table>
<h2 id="create-a-graphics-context">Create a Graphics Context</h2>
<h3 id="create-wgpugraphicscontext">Create WGPUGraphicsContext</h3>
<p>To create a graphics context based on <strong>WebGPU</strong>, just write:</p>
<pre><code class="lang-csharp">GraphicsContext graphicsContext = new Evergine.WebGPU.WGPUGraphicsContext();
graphicsContext.CreateDevice();
</code></pre>
<h3 id="setup-webgpu-device-in-your-blazor-application">Setup WebGPU device in your Blazor application</h3>
<p>To enable your application to run with the WebGPU backend, you first need to obtain the WebGPU device and set it in your Blazor code. Locate the <code>Blazor.start().then...</code> section in your project (by default in the <code>index.html</code> file), and add the following code just before <code>app.startEvergine()</code>:</p>
<pre><code class="lang-javascript">// Set WebGPU device
const adapter = await navigator.gpu.requestAdapter();
const device = await adapter.requestDevice({
    requiredLimits: {
        maxStorageBuffersPerShaderStage: 10 // Request support for up to 10 storage buffers
    }
});

if (Blazor &amp;&amp; Blazor.runtime &amp;&amp; Blazor.runtime.Module) {
    Blazor.runtime.Module.preinitializedWebGPUDevice = device;
} else {
    window.Module.preinitializedWebGPUDevice = device;
}
</code></pre>
<p>The resulting code block should look similar to this:</p>
<pre><code class="lang-javascript">// previous initializing code...

Blazor.start().then(async function () {

    // Set WebGPU device
    const adapter = await navigator.gpu.requestAdapter();
    const device = await adapter.requestDevice({
        requiredLimits: {
            maxStorageBuffersPerShaderStage: 10 // Request support for up to 10 storage buffers
        }
    });

    if (Blazor &amp;&amp; Blazor.runtime &amp;&amp; Blazor.runtime.Module) {
        Blazor.runtime.Module.preinitializedWebGPUDevice = device;
    } else {
        window.Module.preinitializedWebGPUDevice = device;
    }

    // It is not mandatory to run Evergine now, but it must run after Blazor has started
    app.startEvergine();
});
</code></pre>
<h2 id="build--run-on-webgpu">Build &amp; Run on WebGPU</h2>
<p>You can select <strong>WebGPU</strong> API support when creating a new project from the <strong>Evergine</strong> launcher.</p>
<p>If the project already exists, you can add <strong>WebGPU</strong> support from <strong>Evergine Studio</strong> by clicking on Settings -&gt; Project Settings.</p>
<p><img src="images/dx12_support_0.JPG" alt="Settings"></p>
<p>Select and add the profile for <strong>Web (Experimental WebGPU)</strong>.</p>
<p><img src="images/webgpu_support1.jpg" alt="Settings"></p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">

              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <h5>In this article</h5>
              <div></div>
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <div class="pull-left">
        
        <span>Generated by <strong>DocFX</strong></span>
            </div>      
          </div>
        </div>
      </footer>    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
