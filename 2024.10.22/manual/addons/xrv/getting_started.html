<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting Started | Evergine Doc </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting Started | Evergine Doc ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
  
  <meta property="docfx:rel" content="../../../">
  
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container flex-container">
            <label for="version" class="select-label">Version:</label>
            <select id="select-version" class="select-version" name="version" title="version">
            </select>
            <div class="hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="getting-started">Getting Started</h1>

<hr>
<p>In this section, we present step-by-step instructions to get ready to execute XRV on your device.</p>
<h2 id="project-setup">Project Setup</h2>
<ol>
<li><p>Create a new project using <a href="../../evergine_launcher/create_project.html">Evergine Launcher</a>. You should include an extra template project, apart from Windows, for your target device. For example, with a Meta Quest headset, you can choose between <em>Xamarin</em> and/or <em>.NET 6</em> project templates.</p>
</li>
<li><p>Once Evergine Studio is opened, add an MRTK add-on. You can check <a href="../index.html">how to add add-ons to an existing project</a>.
<img src="images/getting-started-mrtk.png" alt="Installing MRTK add-on"></p>
</li>
<li><p>With the MRTK add-on installed, you need to add the <em>Evergine.XRV.Core</em> add-on using the project management dialog again.
<img src="images/getting-started-xrv.png" alt="Installing XRV add-on"></p>
</li>
</ol>
<div class="NOTE">
<h5>Note</h5>
<p>All XRV add-ons have an associated NuGet package. Like Evergine packages, nightly builds of XRV are available on a public NuGet feed. Preview packages will be published on NuGet.org. So, for nightly builds, you should update your nuget.config file to include the Evergine nightly feed:</p>
</div>
<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;configuration&gt;
  &lt;packageSources&gt;
    &lt;add key=&quot;nuget.org&quot; value=&quot;https://api.nuget.org/v3/index.json&quot; /&gt;
    &lt;add key=&quot;Evergine Nightly&quot; value=&quot;https://pkgs.dev.azure.com/plainconcepts/Evergine.Nightly/_packaging/Evergine.NightlyBuilds/nuget/v3/index.json&quot; /&gt;
  &lt;/packageSources&gt;
&lt;/configuration&gt;
</code></pre>
<ol start="4">
<li>Change the default scene SunLight entity value for Illuminance to a value of 1.
<img src="images/getting-started-scene-settings.png" alt="Configuring scene settings"></li>
</ol>
<h2 id="code-setup">Code Setup</h2>
<ol>
<li>Register the background scheduler in your Application constructor.</li>
</ol>
<pre><code class="lang-csharp">public MyApplication()
{
    this.Container.RegisterType&lt;Settings&gt;();
    this.Container.RegisterType&lt;Clock&gt;();
    this.Container.RegisterType&lt;TimerFactory&gt;();
    this.Container.RegisterType&lt;Random&gt;();
    this.Container.RegisterType&lt;ErrorHandler&gt;();
    this.Container.RegisterType&lt;ScreenContextManager&gt;();
    this.Container.RegisterType&lt;GraphicsPresenter&gt;();
    this.Container.RegisterType&lt;AssetsDirectory&gt;();
    this.Container.RegisterType&lt;AssetsService&gt;();
    this.Container.RegisterType&lt;ForegroundTaskSchedulerService&gt;();
    this.Container.RegisterType&lt;WorkActionScheduler&gt;();

    BackgroundTaskScheduler.Background.Configure(this.Container);
}
</code></pre>
<ol start="2">
<li>Change your scene class to implement XRScene.</li>
</ol>
<pre><code class="lang-csharp">public class MyScene : XRScene
{
    protected override Guid CursorMatPressed =&gt; EvergineContent.MRTK.Materials.Cursor.CursorPinch;

    protected override Guid CursorMatReleased =&gt; EvergineContent.MRTK.Materials.Cursor.CursorBase;

    protected override Guid HoloHandsMat =&gt; EvergineContent.MRTK.Materials.Hands.QuestHands;

    protected override Guid SpatialMappingMat =&gt; Guid.Empty;

    protected override Guid HandRayTexture =&gt; EvergineContent.MRTK.Textures.line_dots_png;

    protected override Guid HandRaySampler =&gt; EvergineContent.MRTK.Samplers.LinearWrapSampler;

    protected override Guid LeftControllerModelPrefab =&gt; Guid.Empty;

    protected override Guid RightControllerModelPrefab =&gt; Guid.Empty;

    protected override float MaxFarCursorLength =&gt; 0.5f;

    //...
}
</code></pre>
<ol start="3">
<li>Add Microsoft.Bcl.AsyncInterfaces to the shared project.</li>
</ol>
<pre><code class="lang-xml">&lt;PackageReference Include=&quot;Microsoft.Bcl.AsyncInterfaces&quot; Version=&quot;7.0.0&quot; /&gt;
</code></pre>
<ol start="4">
<li>Finally, create an XrvService instance and initialize it under OnPostCreateXRScene.</li>
</ol>
<p>MyApplication.cs</p>
<pre><code class="lang-csharp">public override void Initialize()
{
    base.Initialize();
    this.InitializeXrv();

    // ...
}

private void InitializeXrv()
{
    var xrv = new XrvService();
    this.Container.RegisterInstance(xrv);
}
</code></pre>
<p>MyScene.cs</p>
<pre><code class="lang-csharp">protected override void OnPostCreateXRScene()
{
    base.OnPostCreateXRScene();
    var xrv = Application.Current.Container.Resolve&lt;XrvService&gt;();
    xrv.Initialize(this);
}
</code></pre>
<h2 id="platform-setup">Platform Setup</h2>
<h3 id="android">Android</h3>
<p>On some platforms like Android, you may encounter build errors like this:</p>
<pre><code>error XA2002: Cannot resolve reference: `Evergine.Editor.Extension`, referenced by `Evergine.MRTK.Editor`. Please add a NuGet package or assembly reference for `Evergine.Editor.Extension`, or remove the reference to `Evergine.MRTK.Editor`.
</code></pre>
<p>Simply add Evergine.Editor.Extension to your project, and it should work.</p>
<p>Also, to make use of the passthrough capability, remember to uncomment the related parts of your code in MainActivity.cs and in the Android manifest file.</p>
<h3 id="uwp-mixed-reality">UWP (Mixed Reality)</h3>
<p>In UWP, you may encounter some PRI generation errors that you can fix by editing your project file and adding the following:</p>
<pre><code class="lang-xml">&lt;AppxGeneratePrisForPortableLibrariesEnabled&gt;false&lt;/AppxGeneratePrisForPortableLibrariesEnabled&gt;
</code></pre>
<p>Also, if you add modules that require internet access or want to use voice commands, ensure that you enable Internet Client and Microphone capabilities. For voice commands, you should also add an explicit reference in the Mixed Reality project to the <em>Evergine.Xrv.Core</em> NuGet package.</p>
<h2 id="add-more-modules">Add More Modules</h2>
<p>With all this, you can run the application, but the only thing you can do is open the hand menu and its two default buttons to open Settings and Help windows. To add more functionalities, you can add any of the existing <a href="modules/index.html">XRV modules</a>, <a href="modules/customModule/index.html">create your own module</a>, or just add new elements using the XRV API.</p>
<p><img src="images/getting-started-menu.JPG" alt="Hand menu example"></p>
<p>You can also take a look at our <a href="https://github.com/EvergineTeam/XRVSample">XRV sample</a> that includes all our public modules.</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">

              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <h5>In this article</h5>
              <div></div>
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <div class="pull-left">
        
        <span>Generated by <strong>DocFX</strong></span>
            </div>      
          </div>
        </div>
      </footer>    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
